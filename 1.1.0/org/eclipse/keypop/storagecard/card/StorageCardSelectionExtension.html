<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>StorageCardSelectionExtension (Keypop Storage Card Java API - 1.1.0)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.eclipse.keypop.storagecard.card, interface: StorageCardSelectionExtension">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language"><div style="margin-top: 7px"><a target="_parent" href="https://keypop.org/"><img src="https://keypop.org/media/logo-bg-white.svg" height="20px" style="background-color: white; padding: 3px; margin: 0 10px -7px 3px;"/></a> Keypop Storage Card Java API - 1.1.0</div></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/StorageCardSelectionExtension.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.eclipse.keypop.storagecard.card</a></div>
<h1 title="Interface StorageCardSelectionExtension" class="title">Interface StorageCardSelectionExtension</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code>org.eclipse.keypop.reader.selection.spi.CardSelectionExtension</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">StorageCardSelectionExtension</span><span class="extends-implements">
extends org.eclipse.keypop.reader.selection.spi.CardSelectionExtension</span></div>
<div class="block">Extends the <code>CardSelectionExtension</code> interface of the "Keypop Reader API" to provide means
 to define optional commands to be executed during the selection phase.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0.0</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="StorageCardSelectionExtension.html" title="interface in org.eclipse.keypop.storagecard.card">StorageCardSelectionExtension</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareMifareClassicAuthenticate(int,org.eclipse.keypop.storagecard.MifareClassicKeyType,byte%5B%5D)" class="member-name-link">prepareMifareClassicAuthenticate</a><wbr>(int&nbsp;blockAddress,
 <a href="../MifareClassicKeyType.html" title="enum class in org.eclipse.keypop.storagecard">MifareClassicKeyType</a>&nbsp;mifareClassicKeyType,
 byte[]&nbsp;key)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Prepares a Mifare Classic authentication command using a provided key.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="StorageCardSelectionExtension.html" title="interface in org.eclipse.keypop.storagecard.card">StorageCardSelectionExtension</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareMifareClassicAuthenticate(int,org.eclipse.keypop.storagecard.MifareClassicKeyType,int)" class="member-name-link">prepareMifareClassicAuthenticate</a><wbr>(int&nbsp;blockAddress,
 <a href="../MifareClassicKeyType.html" title="enum class in org.eclipse.keypop.storagecard">MifareClassicKeyType</a>&nbsp;mifareClassicKeyType,
 int&nbsp;keyNumber)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Prepares a Mifare Classic authentication command using a key stored in the reader.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="StorageCardSelectionExtension.html" title="interface in org.eclipse.keypop.storagecard.card">StorageCardSelectionExtension</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareReadBlock(int)" class="member-name-link">prepareReadBlock</a><wbr>(int&nbsp;blockAddress)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Prepares the reading of a specific block from the storage card.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="StorageCardSelectionExtension.html" title="interface in org.eclipse.keypop.storagecard.card">StorageCardSelectionExtension</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareReadBlocks(int,int)" class="member-name-link">prepareReadBlocks</a><wbr>(int&nbsp;fromBlockAddress,
 int&nbsp;toBlockAddress)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Prepares the reading of a range of blocks from the storage card.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="prepareReadBlock(int)">
<h3>prepareReadBlock</h3>
<div class="member-signature"><span class="return-type"><a href="StorageCardSelectionExtension.html" title="interface in org.eclipse.keypop.storagecard.card">StorageCardSelectionExtension</a></span>&nbsp;<span class="element-name">prepareReadBlock</span><wbr><span class="parameters">(int&nbsp;blockAddress)</span></div>
<div class="block">Prepares the reading of a specific block from the storage card.

 <p>Block addresses start at 0 and the maximum value is equal to <a href="ProductType.html#getBlockCount()"><code>ProductType.getBlockCount()</code></a> - 1.

 <p>Once this command is processed, the result is available in <a href="StorageCard.html" title="interface in org.eclipse.keypop.storagecard.card"><code>StorageCard</code></a>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>blockAddress</code> - The address of the block to be read.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the block address is out of range.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="ProductType.html#getBlockCount()"><code>ProductType.getBlockCount()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareReadBlocks(int,int)">
<h3>prepareReadBlocks</h3>
<div class="member-signature"><span class="return-type"><a href="StorageCardSelectionExtension.html" title="interface in org.eclipse.keypop.storagecard.card">StorageCardSelectionExtension</a></span>&nbsp;<span class="element-name">prepareReadBlocks</span><wbr><span class="parameters">(int&nbsp;fromBlockAddress,
 int&nbsp;toBlockAddress)</span></div>
<div class="block">Prepares the reading of a range of blocks from the storage card.

 <p>Block addresses start at 0 and the maximum value is equal to <a href="ProductType.html#getBlockCount()"><code>ProductType.getBlockCount()</code></a> - 1.

 <p>Once this command is processed, the result is available in <a href="StorageCard.html" title="interface in org.eclipse.keypop.storagecard.card"><code>StorageCard</code></a> via <a href="StorageCard.html#getBlock(int)"><code>StorageCard.getBlock(int)</code></a> and <a href="StorageCard.html#getBlocks(int,int)"><code>StorageCard.getBlocks(int, int)</code></a> methods.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>fromBlockAddress</code> - The starting block address (inclusive).</dd>
<dd><code>toBlockAddress</code> - The ending block address (inclusive).</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If one of the arguments is out of range.</dd>
<dt>Since:</dt>
<dd>1.0.0</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="ProductType.html#getBlockCount()"><code>ProductType.getBlockCount()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareMifareClassicAuthenticate(int,org.eclipse.keypop.storagecard.MifareClassicKeyType,byte[])">
<h3>prepareMifareClassicAuthenticate</h3>
<div class="member-signature"><span class="return-type"><a href="StorageCardSelectionExtension.html" title="interface in org.eclipse.keypop.storagecard.card">StorageCardSelectionExtension</a></span>&nbsp;<span class="element-name">prepareMifareClassicAuthenticate</span><wbr><span class="parameters">(int&nbsp;blockAddress,
 <a href="../MifareClassicKeyType.html" title="enum class in org.eclipse.keypop.storagecard">MifareClassicKeyType</a>&nbsp;mifareClassicKeyType,
 byte[]&nbsp;key)</span></div>
<div class="block">Prepares a Mifare Classic authentication command using a provided key.

 <p>This method is specific to Mifare Classic cards and must be called before reading from or
 writing to protected sectors. The authentication applies to the entire sector containing the
 specified block address.

 <p>The key must be a 6-byte array representing the Mifare Classic key value.

 <p>When the key value is provided this way, it will be sent to the reader to be stored as a
 volatile key at index 0 (see Load Key command of the PC/SC standard). This volatile key is
 temporary and will be erased after usage, when the reader is powered off.

 <p><strong>Security Note:</strong> This method transmits the key value over the communication
 channel between the application and the reader. For production environments and
 security-sensitive applications, it is recommended to use <a href="#prepareMifareClassicAuthenticate(int,org.eclipse.keypop.storagecard.MifareClassicKeyType,int)"><code>prepareMifareClassicAuthenticate(int, MifareClassicKeyType, int)</code></a> instead, which references a
 pre-stored key in the reader without transmitting the key value.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>blockAddress</code> - The address of any block within the sector to authenticate.</dd>
<dd><code>mifareClassicKeyType</code> - The type of key to use (Key A or Key B).</dd>
<dd><code>key</code> - The 6-byte key data for authentication.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the block address is out of range, or if the key is null or
     not exactly 6 bytes long.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the current card type does not support authentication.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="prepareMifareClassicAuthenticate(int,org.eclipse.keypop.storagecard.MifareClassicKeyType,int)">
<h3>prepareMifareClassicAuthenticate</h3>
<div class="member-signature"><span class="return-type"><a href="StorageCardSelectionExtension.html" title="interface in org.eclipse.keypop.storagecard.card">StorageCardSelectionExtension</a></span>&nbsp;<span class="element-name">prepareMifareClassicAuthenticate</span><wbr><span class="parameters">(int&nbsp;blockAddress,
 <a href="../MifareClassicKeyType.html" title="enum class in org.eclipse.keypop.storagecard">MifareClassicKeyType</a>&nbsp;mifareClassicKeyType,
 int&nbsp;keyNumber)</span></div>
<div class="block">Prepares a Mifare Classic authentication command using a key stored in the reader.

 <p>This method is specific to Mifare Classic cards and must be called before reading from or
 writing to protected sectors. The authentication applies to the entire sector containing the
 specified block address.

 <p>The key is referenced by its storage index in the reader's key storage. This allows using
 pre-configured keys without transmitting them over the communication channel.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>blockAddress</code> - The address of any block within the sector to authenticate.</dd>
<dd><code>mifareClassicKeyType</code> - The type of key to use (Key A or Key B).</dd>
<dd><code>keyNumber</code> - The index of the key in the reader's key storage.</dd>
<dt>Returns:</dt>
<dd>The current instance.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the block address is out of range, or if the key number is
     invalid.</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/UnsupportedOperationException.html" title="class or interface in java.lang" class="external-link">UnsupportedOperationException</a></code> - If the current card type does not support authentication.</dd>
<dt>Since:</dt>
<dd>1.1.0</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &copy; Eclipse Foundation, Inc. All Rights Reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
